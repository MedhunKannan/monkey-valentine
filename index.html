<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
<title>Monkey Rolls for Love</title>

<style>
  body {
    margin: 0;
    font-family: system-ui, -apple-system;
    background: linear-gradient(#ffd6e8, #fff5fa);
    overflow: hidden;
    touch-action: manipulation;
  }

  #game {
    position: relative;
    width: 100vw;
    height: 100vh;
    text-align: center;
  }

  #startScreen {
    position: absolute;
    inset: 0;
    background: linear-gradient(#ffb3d9, #ffe6f2);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 10;
  }

  #monkey {
    position: absolute;
    bottom: 90px;
    left: 40px;
    font-size: 64px;
    transition: transform 0.3s;
  }

  #monkey.shy {
    transform: scale(1.3) rotate(-5deg);
  }

  .item {
    position: absolute;
    bottom: 90px;
    right: -80px;
    font-size: 48px;
  }

  #ground {
    position: absolute;
    bottom: 70px;
    width: 100%;
    height: 20px;
    background: #ff85b3;
  }

  #score {
    position: absolute;
    top: 15px;
    left: 15px;
    font-size: 22px;
  }

  #message {
    position: absolute;
    top: 40%;
    width: 100%;
    font-size: 26px;
    display: none;
  }

  #valentine {
    display: none;
    position: absolute;
    inset: 0;
    background: linear-gradient(#ffd6e8, #fff);
    color: #b30059;
    padding-top: 18vh;
    z-index: 9;
  }

  button {
    font-size: 22px;
    padding: 14px 28px;
    margin: 12px;
    border-radius: 16px;
    border: none;
    background: #ff4da6;
    color: white;
    cursor: pointer;
  }
</style>
</head>

<body>
<div id="game">

  <div id="startScreen">
    <h1>ğŸ’ğŸ£ğŸ’–</h1>
    <h2>Monkey Rolls for Love</h2>
    <p>A tiny game for someone I adore</p>
    <button id="startBtn">START ğŸ’•</button>
  </div>

  <div id="score">ğŸ£ Sushi: 0</div>
  <div id="monkey">ğŸ’</div>
  <div id="ground"></div>
  <div id="message"></div>

  <div id="valentine">
    <h2>I didnâ€™t plan thisâ€¦</h2>
    <h2>but somehow everything feels better with you.</h2>
    <h1>Will you be my Valentine? ğŸ’—</h1>
    <button onclick="yes()">YES ğŸ’–</button>
    <button onclick="yes()">YES, obviously ğŸ™„ğŸ’–</button>
  </div>

  <audio id="music" loop>
    <source src="i_guess_im_in_love.mp3" type="audio/mpeg">
  </audio>

</div>

<script>
const game = document.getElementById("game"); // âœ… FIX
const monkey = document.getElementById("monkey");
const scoreEl = document.getElementById("score");
const message = document.getElementById("message");
const valentine = document.getElementById("valentine");
const music = document.getElementById("music");
const startBtn = document.getElementById("startBtn");

let jumping = false;
let score = 0;
let speed = 4;
let loop;

const messages = [
  "I thinkâ€¦ I really like her ğŸ¥¹",
  "My heart is doing backflips",
  "Okay wow this is love isnâ€™t it",
  "She means everything to me ğŸ’•"
];

startBtn.addEventListener("click", startGame);

function startGame() {
  document.getElementById("startScreen").style.display = "none";
  music.play().catch(() => {});
  loop = setInterval(spawnItem, 1400);
}

function jump() {
  if (jumping || document.getElementById("startScreen").style.display !== "none") return;
  jumping = true;
  monkey.style.bottom = "210px";
  setTimeout(() => {
    monkey.style.bottom = "90px";
    jumping = false;
  }, 350);
}

document.addEventListener("touchstart", jump);
document.addEventListener("click", jump);

function spawnItem() {
  const item = document.createElement("div");
  item.className = "item";
  const heart = Math.random() < 0.3;
  item.textContent = heart ? "ğŸ’–ğŸ£" : "ğŸ£";
  game.appendChild(item);

  let x = window.innerWidth;

  const interval = setInterval(() => {
    x -= speed;
    item.style.right = x + "px";

    const i = item.getBoundingClientRect();
    const m = monkey.getBoundingClientRect();

    if (i.left < m.right && i.right > m.left && i.bottom > m.top) {
      score += heart ? 3 : 1;
      scoreEl.textContent = "ğŸ£ Sushi: " + score;
      item.remove();
      clearInterval(interval);

      if (score % 3 ===
